---
title : Redis 介绍
description : Redis
tags:
 - redis
date: 2020-01-02
categories:
 - "develop"
 - "redis"
weight: 1

---

本文从初步了解、面向开发、面向运维这三个方面对Redis进行简单介绍

<!--more-->


# 初步了解 <audio src="/" preload="none" />
Redis是开放源代码（BSD许可）的内存中数据结构存储，用作数据库，缓存和消息代理。
自带主从，Lua脚本支持，LRU过期策略，事务和不同级别的磁盘持久性，  
并通过Redis Sentinel和Redis Cluster自动分区实现高可用。

Redis 作为 NoSql 不会将数据存储在定义表，行和列的定义明确的数据库模式中，而是直接存储在 数据结构中，非常灵活。
但是也可以是有 Module 实现 sqlite 功能，rediSQL。

## 基础设计 <audio src="/" preload="none" />
* Redis 是单进程单线程：好处是  
	* 代码更清晰，处理逻辑更简单
	* 不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗
	* 不存在多进程或者多线程导致的切换而消耗CPU
	* 缺点是：无法发挥多核CPU性能，不过可以通过在单机开多个Redis实例来完善；
	* **Redis 6.0 使用了多线程使得性能得到2倍提升**
* Redis 数据存储在内存，数据量不能大于硬件内存
* 多路 I/O 复用模型:
	* 这里“多路”指的是多个网络连接，“复用”指的是复用同一个线程。
	* 采用多路 I/O 复用技术可以让单个线程高效的处理多个连接请求（尽量减少网络IO的时间消耗）
* Redis支持数据的持久化，可以将内存中的数据保持在磁盘中，  
	* fork 一个线程后台
	* 重启的时候可以再次加载进行使用
* Redis支持数据的备份，配置主从即可

## 优缺点 <audio src="/" preload="none" />

* 性能极高 – Redis 能读的速度是 110000 次 / s,写的速度是 81000 次 / s
* 原子操作，多个操作支持事务
* Redis的主要缺点是数据库容量受到物理内存的限制，不能用作海量数据的高性能读写，因此Redis适合的场景主要局限在较小数据量的高性能操作和运算上
* 无法发挥多核CPU的性能，开多个实例

# 面向开发 
## 数据类型 
支持多种数据类型，详见文章[Redis数据类型和应用场景](/posts/redis/redis-data-types/)

## 数据过期


## 事务 
单个操作是原子的，为了使多个任务成为原子操作，需要使用事务
详见文章 [Redis事务](/posts/redis/redis-transaction/)

## 管道技术  <audio src="/" preload="none" />

Redis是一种基于客户端-服务端模型以及请求/响应协议的TCP服务。这意味着通常情况下一个请求会遵循以下步骤：  
客户端向服务端发送一个查询请求，并监听Socket返回，通常是以阻塞模式，等待服务端响应。  
服务端处理命令，并将结果返回给客户端。

详见文章 [Redis管道技术](/posts/redis/redis-pipelined/)

# 面向运维
## 安全
## 分布式
## 主从
## 持久化、备份和恢复
## 性能测试

